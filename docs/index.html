<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reproducible Data Objects • RDO</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Reproducible Data Objects">
<meta property="og:description" content="A Reproducible Data Object (RDO) encapsulates both
    data and R code needed to reproduce those data. Each RDO can have
    other RDOs as dependencies. RDOs can be composed into complex tree
    hierarchies. Interacting with an RDO tree is similar to interacting
    with a single RDO. You can (re)run the code and refresh the cache,
    check status, validate if the code still gives the same cached data,
    clear data cache, access code and data cache of any of the
    dependencies. RDOs can be cloned and code of cloned dependencies can
    be modified.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">RDO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/a01_single-rdo-without-dependencies.html">Single RDO without dependencies</a>
    </li>
    <li>
      <a href="articles/a02-rdo-with-dependencies.html">RDO with dependencies</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/openpharma/RDO">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="rdo-reproducible-data-objects" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rdo-reproducible-data-objects" class="anchor"></a>RDO (Reproducible Data Objects)</h1></div>
<p><img src="reference/figures/logo.png" align="right" height="139"></p>
<p>by <a href="https://kalimu.github.io/">Kamil Wais</a></p>
<!-- badges: start -->

<blockquote>
<p>The <strong>RDO</strong> R package allows you to create and interact with <strong>Reproducible Data Objects (RDO)</strong>. An RDO object <strong>encapsulates both data and R code</strong> needed to reproduce the data.</p>
</blockquote>
<blockquote>
<p>The development of the RDO package is <strong>supported by Roche</strong>.</p>
</blockquote>
<p>RDOs can have other RDOs as dependencies and can be composed into complex hierarchy (RDO trees).</p>
<p>Interacting with such RDO tree is similar to interacting with a single RDO, as each RDO has the same programming interface thanks to composite programming design pattern.</p>
<p>You can (re)run the RDO reproducible code and refresh the data cache, check status, validate if the code still gives the same cached data, clear data cache, access code and data cache of any of the dependencies.</p>
<p>Both a single RDO and a complex RDO tree can be cloned, and code of the cloned dependencies can be also modified later.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><del>You can install the released version of RDO from <a href="https://CRAN.R-project.org">CRAN</a> with:</del></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("RDO")</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co"># Not yet on CRAN</span></a></code></pre></div>
<p>And the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb2-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"openpharma/RDO"</span>)</a></code></pre></div>
</div>
<div id="basic-example" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-example" class="anchor"></a>Basic example</h2>
<p>Let’s assume we have some exemplary R code that changes a dataset in some way:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">data_mtcars &lt;-<span class="st"> </span>mtcars</a>
<a class="sourceLine" id="cb3-2" title="2">data_mtcars &lt;-<span class="st"> </span>data_mtcars[data_mtcars<span class="op">$</span>mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">30</span>, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"cyl"</span>, <span class="st">"mpg"</span>)]</a></code></pre></div>
<p>Now, we would like to encapsulate this code and the changed data inside an RDO.</p>
<p>The <code>RDO</code> is an <code>R6</code> class so to create a new RDO object just use the constructor function:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># library(RDO)</span></a>
<a class="sourceLine" id="cb4-2" title="2">data_mtcars &lt;-<span class="st"> </span>RDO<span class="op">::</span>RDO<span class="op">$</span><span class="kw">new</span>(<span class="dt">name =</span> <span class="st">"data_mtcars"</span>)</a>
<a class="sourceLine" id="cb4-3" title="3">data_mtcars</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt; &lt;RDO&gt;</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt; Name: data_mtcars </span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; Dependencies: none.</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; Status:</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt; - created:        2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt; - last changed:   2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">#&gt; - last touched:   (never) </span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt; - last validated: (never) </span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">#&gt; - last run time:   </span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">#&gt; - run time total: 0 </span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co">#&gt; - is validated?   FALSE </span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="co">#&gt; - is locked?      FALSE </span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="co">#&gt; - cache size:     0 Mb </span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co">#&gt; - cached total:   0 Mb</span></a></code></pre></div>
<p>Now we can add the reproducible R code as an R <code>expression</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">data_mtcars<span class="op">$</span>code &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>({</a>
<a class="sourceLine" id="cb5-2" title="2">  data_mtcars &lt;-<span class="st"> </span>mtcars</a>
<a class="sourceLine" id="cb5-3" title="3">  data_mtcars &lt;-<span class="st"> </span>data_mtcars[data_mtcars<span class="op">$</span>mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">30</span>, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"cyl"</span>, <span class="st">"mpg"</span>)]</a>
<a class="sourceLine" id="cb5-4" title="4">})</a></code></pre></div>
<p>If we have a code, we can run it and the result will be cached inside RDO.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">data_mtcars<span class="op">$</span><span class="kw">run</span>()</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co">#&gt; Evaluating RDO: data_mtcars ... done!</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">#&gt; ...evaluation of data_mtcars completed.</span></a></code></pre></div>
<p>We can now access the cache…</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">data_mtcars<span class="op">$</span>cache</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co">#&gt;                cyl  mpg</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; Fiat 128         4 32.4</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt; Honda Civic      4 30.4</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt; Toyota Corolla   4 33.9</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt; Lotus Europa     4 30.4</span></a></code></pre></div>
<p>Let’s see if the RDO is validated…</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">data_mtcars<span class="op">$</span><span class="kw">is_validated</span>()</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co">#&gt; RDO: 'data_mtcars' is validated.</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<p>The RDO is validated, so we can be pretty sure that last evaluation of the code give in result the cached data.</p>
<p>Let’s update the code just a bit and check the validation status…</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">data_mtcars<span class="op">$</span>code &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>({</a>
<a class="sourceLine" id="cb9-2" title="2">  data_mtcars &lt;-<span class="st"> </span>mtcars</a>
<a class="sourceLine" id="cb9-3" title="3">  data_mtcars &lt;-<span class="st"> </span>data_mtcars[data_mtcars<span class="op">$</span>mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">31</span>, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"cyl"</span>, <span class="st">"mpg"</span>)]</a>
<a class="sourceLine" id="cb9-4" title="4">})</a>
<a class="sourceLine" id="cb9-5" title="5">data_mtcars<span class="op">$</span><span class="kw">is_validated</span>()</a>
<a class="sourceLine" id="cb9-6" title="6"><span class="co">#&gt; RDO: 'data_mtcars' is NOT VALIDATED!</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
<p>The RDO is NOT validated! We need to update the cache…</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">data_mtcars<span class="op">$</span><span class="kw">run</span>()</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">#&gt; Evaluating RDO: data_mtcars ... done!</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#&gt; ...evaluation of data_mtcars completed.</span></a>
<a class="sourceLine" id="cb10-4" title="4">data_mtcars</a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">#&gt; &lt;RDO&gt;</span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="co">#&gt; Name: data_mtcars </span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="co">#&gt; Dependencies: none.</span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="co">#&gt; Status:</span></a>
<a class="sourceLine" id="cb10-9" title="9"><span class="co">#&gt; - created:        2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="co">#&gt; - last changed:   2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb10-11" title="11"><span class="co">#&gt; - last touched:   2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb10-12" title="12"><span class="co">#&gt; - last validated: 2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb10-13" title="13"><span class="co">#&gt; - last run time:  0.0190010070800781 </span></a>
<a class="sourceLine" id="cb10-14" title="14"><span class="co">#&gt; - run time total: 0.0190010070800781 </span></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="co">#&gt; - is validated?   TRUE </span></a>
<a class="sourceLine" id="cb10-16" title="16"><span class="co">#&gt; - is locked?      FALSE </span></a>
<a class="sourceLine" id="cb10-17" title="17"><span class="co">#&gt; - cache size:     0.001 Mb </span></a>
<a class="sourceLine" id="cb10-18" title="18"><span class="co">#&gt; - cached total:   0.001 Mb</span></a></code></pre></div>
<p>We have a validated RDO. At any time we can extract the cached data and the reproducible R code.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">data_mtcars<span class="op">$</span>cache</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co">#&gt;                cyl  mpg</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co">#&gt; Fiat 128         4 32.4</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">#&gt; Toyota Corolla   4 33.9</span></a>
<a class="sourceLine" id="cb11-5" title="5">data_mtcars<span class="op">$</span>code</a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co">#&gt; &lt;RDO code&gt;</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#&gt; data_mtcars &lt;- mtcars</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="co">#&gt; data_mtcars &lt;- data_mtcars[data_mtcars$mpg &gt; 31, c("cyl", "mpg")]</span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co">#&gt; &lt;RDO&gt;</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="co">#&gt; Name: data_mtcars </span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="co">#&gt; Dependencies: none.</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="co">#&gt; Status:</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="co">#&gt; - created:        2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co">#&gt; - last changed:   2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="co">#&gt; - last touched:   2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt; - last validated: 2020-03-02 13:06:12 UTC </span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="co">#&gt; - last run time:  0.0190010070800781 </span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="co">#&gt; - run time total: 0.0190010070800781 </span></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="co">#&gt; - is validated?   TRUE </span></a>
<a class="sourceLine" id="cb11-20" title="20"><span class="co">#&gt; - is locked?      FALSE </span></a>
<a class="sourceLine" id="cb11-21" title="21"><span class="co">#&gt; - cache size:     0.001 Mb </span></a>
<a class="sourceLine" id="cb11-22" title="22"><span class="co">#&gt; - cached total:   0.001 Mb</span></a></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/openpharma/RDO">https://​github.com/​openpharma/​RDO</a>
</li>
<li>Report a bug at <br><a href="https://github.com/openpharma/RDO/issues">https://​github.com/​openpharma/​RDO/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Kamil Wais <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4062-055X" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://www.r-project.org/Licenses/MIT"><img src="https://img.shields.io/badge/licence-MIT-blue.svg" alt="Licence"></a></li>
<li><a href="http://hits.dwyl.com/openpharma/rdo"><img src="http://hits.dwyl.com/openpharma/rdo.svg" alt="HitCount"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Kamil Wais.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
